<div class="max-w-screen-lg mx-auto px-4">
  <div class="grid grid-cols-4 gap-4">
    <div
      *ngFor="let visualizer of visualiser.visualizers"
      [ngClass]="{
        '': visualizer.groupable,
        'col-span-full': !visualizer.groupable
      }"
    >
      <!-- Display the header for the requirement -->
      <div class="requirement-header font-semibold text-slate-900">
        {{ visualizer['currentRequirement'].requirementName || visualizer['currentRequirement'].types[0] }}
      </div>

      <div [ngClass]="{
        '': visualizer.groupable,
        'grid grid-cols-4 gap-4': !visualizer.groupable
      }">
        <!-- Render filled units as cards -->
        <ng-container *ngFor="let unit of platoon.units">
          <div>
            <mat-card class="filled-unit-card w-full">
              <mat-card-content>
                <!-- {{ unit.type }} {{ unit.subType || '' }} -->
              </mat-card-content>
            </mat-card>
          </div>
        </ng-container>

        <!-- Render unfilled slots as buttons -->
        <ng-container *ngFor="let slot of visualizer.slots">
          <div>
            <button
              *ngIf="slot.isMandatory; else raisedButton"
              mat-flat-button
              color="primary"
              class="w-full mandatory"
            >
              Add Unit
            </button>
            <ng-template #raisedButton>
              <button mat-raised-button color="primary" class="w-full">
                Add Unit
              </button>
            </ng-template>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>
